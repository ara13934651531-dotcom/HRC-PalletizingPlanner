<?xml version="1.0"?>

<robot name="S50" xmlns:xacro="http://wiki.ros.org/xacro">

  <xacro:arg name="use_real_hardware" default="true" />
  <xacro:arg name="use_fake_hardware" default="false" />

  <!-- Load TRANSMISSION file: -->
  <xacro:include filename="$(find S50_ros2_gazebo)/urdf/S50_transmission.xacro" />
  <!-- Load GAZEBO/ROS2_CONTROL file: -->
  <xacro:include filename="$(find S50_ros2_gazebo)/urdf/S50_gazebo.xacro" />

  <xacro:property name="PI" value="3.1415926535897931"/>
  
  <xacro:property name="density" value="3.09"/>
  <!-- <xacro:macro name="S50"> -->
    
    <!-- TRANSMISSION: -->
    <xacro:S50_transmission />
    <!-- GAZEBO - ROS2_CONTROL: -->
    <xacro:S50_gazebo 
    use_real_hardware="$(arg use_real_hardware)" 
    use_fake_hardware="$(arg use_fake_hardware)"/>
    
  <link name="world" />

  <joint name="world_base" type="fixed">
    <origin
      xyz="0 0 0"
      rpy="0 0 0" />
    <parent
      link="world" />
    <child
      link="elfin_base_link" />
  </joint>
  
  <link name="elfin_base_link"/>
  
  <joint name="elfin_base_joint" type="fixed">
    <origin
      xyz="0 0 0"
      rpy="0 0 0" />
    <parent
      link="elfin_base_link" />
    <child
      link="elfin_base" />
  </joint>

  <link
    name="elfin_base">
    <inertial>
      <origin
        xyz="-8.68553516211448E-07 -0.00140906440480372 0.06512733576771"
        rpy="0 0 0" />
      <mass
        value="8.7286" />
      <inertia
        ixx="0.0584002632395119"
        ixy="-0.000579263131413315"
        ixz="-1.15535835294774E-06"
        iyy="0.0599391881547808"
        iyz="-0.000591845049165551"
        izz="0.0909912961779581" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_base.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_base.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="elfin_link1">
    <inertial>
      <origin
        xyz="-0.031281552816812 1.16710869486992E-05 0.000139576731700508"
        rpy="0 0 0" />
      <mass
        value="19.09" />
      <inertia
        ixx="0.204547413949119"
        ixy="6.87131907908827E-06"
        ixz="-0.000100179815368125"
        iyy="0.255861060936029"
        iyz="-8.41633275671158E-06"
        izz="0.220034922526612" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="elfin_joint1"
    type="revolute">
    <origin
      xyz="0 0 0.2833"
      rpy="0 0 1.5708" />
    <parent
      link="elfin_base" />
    <child
      link="elfin_link1" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-6.28"
      upper="6.28"
      effort="200"
      velocity="1.57" />
    <dynamics damping="10.0" friction="10.0"/>
  </joint>
  <link
    name="elfin_link2">
    <inertial>
      <origin
        xyz="-0.37467 6.2745E-06 0.0011187"
        rpy="0 0 0" />
      <mass
        value="44.26" />
      <inertia
        ixx="0.33976"
        ixy="-9.3347E-05"
        ixz="0.023148"
        iyy="5.7395"
        iyz="-2.1409E-05"
        izz="5.6922" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="elfin_joint2"
    type="revolute">
    <origin
      xyz="-0.3345 0 0"
      rpy="1.5708 0 -1.5708" />
    <parent
      link="elfin_link1" />
    <child
      link="elfin_link2" />
    <axis
      xyz="0 0 1" />
     <limit
      lower="-3.3158"
      upper="0.1745"
      effort="350"
      velocity="1.57" />
    <dynamics damping="40.0" friction="40.0"/>
  </joint>
  <link
    name="elfin_link3">
    <inertial>
      <origin
        xyz="0.405614617728952 -6.14202330897484E-05 0.016942561117837"
        rpy="0 0 0" />
      <mass
        value="14.8597918361306" />
      <inertia
        ixx="0.0380674343211443"
        ixy="-0.000282821545394082"
        ixz="0.0615882286834741"
        iyy="1.52243508443937"
        iyz="-1.50184849651791E-06"
        izz="1.52219560941131" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link3.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="elfin_joint3"
    type="revolute">
    <origin
      xyz="-0.9 0 -0.239"
      rpy="0 0 3.1416" />
    <parent
      link="elfin_link2" />
    <child
      link="elfin_link3" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-2.9319"
      upper="2.9319"
      effort="200"
      velocity="1.57" />
    <dynamics damping="10.0" friction="10.0"/>
  </joint>
  <link
    name="elfin_link4">
    <inertial>
      <origin
        xyz="7.0283E-06 0.0046285 0.15255"
        rpy="0 0 0" />
      <mass
        value="2.061" />
      <inertia
       ixx="0.0036319"
        ixy="5.3858E-08"
        ixz="-1.9997E-08"
        iyy="0.0039999"
        iyz="-0.00037894"
        izz="0.003414" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link4.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="elfin_joint4"
    type="revolute">
    <origin
      xyz="0.9415 0 0"
      rpy="0 0 0" />
    <parent
      link="elfin_link3" />
    <child
      link="elfin_link4" />
    <axis
      xyz="0 0 1" />
   <limit
      lower="-6.28"
      upper="6.28"
      effort="104"
      velocity="1.57" />
    <dynamics damping="10.0" friction="10.0"/>
  </joint>
  <link
    name="elfin_link5">
    <inertial>
      <origin
        xyz="-7.0284E-06 -0.0046287 0.15255"
        rpy="0 0 0" />
      <mass
        value="2.061" />
      <inertia
     ixx="0.0036267"
        ixy="5.3866E-08"
        ixz="2.0004E-08"
        iyy="0.0039999"
        iyz="0.00037894"
        izz="0.0034087" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link5.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link5.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="elfin_joint5"
    type="revolute">
    <origin
      xyz="0 0 0.1585"
      rpy="-1.5708 0 0" />
    <parent
      link="elfin_link4" />
    <child
      link="elfin_link5" />
    <axis
      xyz="0 0 1" />
     <limit
      lower="-6.28"
      upper="6.28"
      effort="34"
      velocity="1.57" />
    <dynamics damping="10.0" friction="10.0"/>
  </joint>
  <link
    name="elfin_link6">
    <inertial>
      <origin
        xyz="3.0301E-06 -0.00030947 0.10898"
        rpy="0 0 0" />
      <mass
        value="0.49195" />
      <inertia
       ixx="0.0005234"
        ixy="5.185E-08"
        ixz="-3.0498E-08"
        iyy="0.00051311"
        iyz="-7.1301E-07"
        izz="0.0008679" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link6.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="file://$(find elfin_description)/meshes/S50/elfin_link6.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="elfin_joint6"
    type="revolute">
    <origin
      xyz="0 0 0.1585"
      rpy="1.5708 0 0" />
    <parent
      link="elfin_link5" />
    <child
      link="elfin_link6" />
    <axis
      xyz="0 0 1" />
   <limit
      lower="-6.28"
      upper="6.28"
      effort="34"
      velocity="1.57" />
    <dynamics damping="10.0" friction="10.0"/>
  </joint>
  <link
    name="elfin_end_link">
  </link>
  <joint
    name="elfin_end_joint"
    type="fixed">
    <origin
      xyz="0 0 0.1345"
      rpy="0 0 3.1416" />
    <parent
      link="elfin_link6" />
    <child
      link="elfin_end_link" />
  </joint>

  <link name="elfin_dummy_gripper"/>
  
  <joint name="elfin_dummy_joint" type="fixed">
    <origin
      xyz="0 -0.0935 0"
      rpy="${PI/2} ${PI/2} 0" />
    <parent
      link="elfin_link6" />
    <child
      link="elfin_dummy_gripper" />
  </joint>

</robot>
